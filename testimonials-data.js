// ===================================================
// üé¨ DUAL VIDEO SYSTEM DATA - CLEANED
// ===================================================

window.testimonialData = {
    "concerns": {
        "price_expensive": {
            "title": "Expensive",
            "icon": "üí∞",
            "type": "testimonial"
        },
        "price_cost": {
            "title": "Cost/Price",
            "icon": "üí∞",
            "type": "testimonial"
        },
        "time_busy": {
            "title": "Too Busy",
            "icon": "‚è∞",
            "type": "testimonial"
        },
        "trust_skepticism": {
            "title": "Skepticism",
            "icon": "ü§ù",
            "type": "testimonial"
        },
        "results_effectiveness": {
            "title": "Results",
            "icon": "üìà",
            "type": "testimonial"
        },
        "general_info": {
            "title": "General Info",
            "icon": "‚≠ê",
            "type": "testimonial"
        },
        "how_it_works": {
            "title": "How It Works",
            "icon": "‚öôÔ∏è",
            "type": "informational"
        },
        "benefits_features": {
            "title": "Benefits & Features",
            "icon": "‚úÖ",
            "type": "informational"
        },
        "case_studies": {
            "title": "Case Studies",
            "icon": "üìä",
            "type": "informational"
        },
        "results": {
            "title": "Results",
            "icon": "‚ÜóÔ∏è",
            "type": "informational"
        }
    },
    "testimonialGroups": {
        "group_1769476426538": {
            "id": "group_1769476426538",
            "type": "testimonial",
            "name": "Form Abandonment Alternative",
            "slug": "form-abandonment-alternative",
            "icon": "üé¨",
            "description": "Lawyers and Mortgage brokers alike discover AI hosted pre-qualification interviews work much better than forms.",
            "concerns": [],
            "testimonials": [
                {
                    "id": "vid_1769477299353",
                    "title": "Personal Injury Lawyer 312% Boost",
                    "concernType": "results",
                    "videoUrl": "https://odetjszursuaxpapfwcy.supabase.co/storage/v1/object/sign/video-testimonials/legal-personal-injury.mp4?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV9lNjg4MGUyOC0zMDRhLTQ5NzItYmNiMS1iY2U5YjNkOWU1YTkiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJ2aWRlby10ZXN0aW1vbmlhbHMvbGVnYWwtcGVyc29uYWwtaW5qdXJ5Lm1wNCIsImlhdCI6MTc2OTQ3Njk2OCwiZXhwIjoxODAxMDEyOTY4fQ.IqOJAHuOJHjFSJ1kpFKYppEnIufZoE4Knmi-laIc09Q",
                    "author": "Jack Johnson",
                    "text": "",
                    "addedAt": "2026-01-27T01:34:28.964Z",
                    "views": 0
                },
                {
                    "id": "vid_1769477628904",
                    "title": "More Pre-Qualified Loans with AI Interview",
                    "concernType": "results",
                    "videoUrl": "https://odetjszursuaxpapfwcy.supabase.co/storage/v1/object/sign/video-testimonials/Mortgage%20Broker.mp4?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV9lNjg4MGUyOC0zMDRhLTQ5NzItYmNiMS1iY2U5YjNkOWU1YTkiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJ2aWRlby10ZXN0aW1vbmlhbHMvTW9ydGdhZ2UgQnJva2VyLm1wNCIsImlhdCI6MTc2OTQ3NzU0NiwiZXhwIjoxODAxMDEzNTQ2fQ.3017qLnFFafw8pt8eUxhOLR_Iu8hUC_Vde-BzCMJtxk",
                    "author": "Brad Harrison",
                    "text": "",
                    "addedAt": "2026-01-27T01:34:28.964Z",
                    "views": 0
                }
            ],
            "createdAt": "2026-01-27T01:13:46.538Z",
            "viewCount": 0
        }
    },
    "informationalGroups": {
        "group_1769223126536": {
            "id": "group_1769223126536",
            "type": "informational",
            "name": "Voice Guide AI Real Results",
            "slug": "voice-guide-ai-real-results",
            "icon": "üìö",
            "description": "Clients share their conversion boost results using Voice Guide AI",
            "concerns": [
                "benefits_features",
                "faq"
            ],
            "videos": [
                {
                    "id": "vid_1769243449745",
                    "title": "How Mobilewose AI closes deals 24 7, 365 days a year",
                    "concernType": "general",
                    "videoUrl": "https://odetjszursuaxpapfwcy.supabase.co/storage/v1/object/sign/video-testimonials/How%20Mobilewose%20AI%20closes%20deals%2024%207,%20365%20days%20a%20year.mp4?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV9lNjg4MGUyOC0zMDRhLTQ5NzItYmNiMS1iY2U5YjNkOWU1YTkiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJ2aWRlby10ZXN0aW1vbmlhbHMvSG93IE1vYmlsZXdvc2UgQUkgY2xvc2VzIGRlYWxzIDI0IDcsIDM2NSBkYXlzIGEgeWVhci5tcDQiLCJpYXQiOjE3NjkyMzc3MjcsImV4cCI6MTgwMDc3MzcyN30.mARvNszR3TZ_yhE4IKKugnZ2aOnB60SxSkf3B556s5Y",
                    "author": "Brett Duncan",
                    "description": "",
                    "addedAt": "2026-01-27T01:34:28.964Z",
                    "views": 0
                }
            ],
            "createdAt": "2026-01-24T02:52:06.536Z",
            "viewCount": 0
        }
    },
    "statistics": {
        "totalTestimonialGroups": 1,
        "totalInformationalGroups": 1,
        "totalTestimonials": 2,
        "totalInformationalVideos": 1,
        "totalVideos": 3
    },
    "playerConfig": {
        "desktop": {
            "width": 854,
            "height": 480,
            "top": "50%",
            "left": "50%",
            "borderRadius": "12px"
        },
        "mobile": {
            "fullscreen": true
        },
        "overlay": {
            "background": "rgba(0, 0, 0, 0.5)"
        },
        "resumeMessage": "I'm sure you can appreciate what our clients have to say. So let's get back on track with helping you sell your practice. Would you like a free consultation with Bruce that can analyze your particular situation?"
    },
    "__version": "3.0-dual-system-clean",
    "__generated": "2026-01-27T01:34:28.964Z"
};

window.testimonialData.getVideo = function(vidId) {
    for (const gId in this.testimonialGroups) {
        const g = this.testimonialGroups[gId];
        if (g.testimonials) { const f = g.testimonials.find(t => t.id === vidId); if (f) return {...f, groupName: g.name, groupType: 'testimonial'}; }
    }
    for (const gId in this.informationalGroups) {
        const g = this.informationalGroups[gId];
        if (g.videos) { const f = g.videos.find(v => v.id === vidId); if (f) return {...f, groupName: g.name, groupType: 'informational'}; }
    }
    return null;
};

window.testimonialData.getConcernTestimonials = function(k) {
    const r = [];
    if (!this.testimonialGroups) return r;
    for (const [gId, g] of Object.entries(this.testimonialGroups)) {
        if (g.concerns?.includes(k) && g.testimonials) {
            r.push(...g.testimonials.map(t => ({...t, groupName: g.name, groupIcon: g.icon, groupType: 'testimonial'})));
        }
    }
    return r;
};

window.testimonialData.getConcernVideos = function(k) {
    const r = [];
    if (!this.informationalGroups) return r;
    for (const [gId, g] of Object.entries(this.informationalGroups)) {
        if (g.concerns?.includes(k) && g.videos) {
            r.push(...g.videos.map(v => ({...v, groupName: g.name, groupIcon: g.icon, groupType: 'informational'})));
        }
    }
    return r;
};

// ===================================================
// üé¨ VIDEO PLAYER FUNCTION (Missing from your file)
// ===================================================

window.playTestimonialVideoWithOverlay = function(testimonial) {
    console.log('üé¨ Playing video:', testimonial.title);
    
    if (!testimonial.videoUrl) {
        console.error('‚ùå No video URL');
        return;
    }
    
    // Set protection flags
    window.avatarCurrentlyPlaying = true;
    window.testimonialSessionActive = true;
    
    // Remove any existing overlay first
    const existingOverlay = document.getElementById('testimonial-video-overlay');
    if (existingOverlay) existingOverlay.remove();
    
    // Create overlay
    const overlay = document.createElement('div');
    overlay.id = 'testimonial-video-overlay';
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.95);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(10px);
        animation: fadeIn 0.3s ease;
    `;
    
    // Create MAIN CONTAINER
    const container = document.createElement('div');
    container.style.cssText = `
        position: relative;
        width: 350px;
        max-width: 90vw;
        background: rgba(20,20,30,0.9);
        border-radius: 20px;
        padding: 25px;
        box-shadow: 0 30px 80px rgba(0,0,0,0.8);
        border: 1px solid rgba(255,255,255,0.15);
        display: flex;
        flex-direction: column;
        gap: 20px;
    `;
    
    // Create HEADER
    const header = document.createElement('div');
    header.style.cssText = `
        display: flex;
        align-items: center;
        gap: 15px;
        color: white;
        font-family: 'Segoe UI', sans-serif;
    `;
    
    // Determine video type
    let videoType = 'testimonial';
    let icon = 'üé¨';
    let subtitle = 'Real story from a satisfied client';
    let gradient = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';

    if (testimonial.description || (testimonial.author && testimonial.author.includes('System')) || 
        (testimonial.groupType === 'informational')) {
        videoType = 'informational';
        icon = 'üìö';
        subtitle = 'Educational video & system explanation';
        gradient = 'linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)';
    }

    header.innerHTML = `
        <div style="
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: ${gradient};
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        ">${icon}</div>
        <div>
            <h3 style="margin: 0 0 5px 0; font-size: 18px; font-weight: 600;">
                ${testimonial.title || (videoType === 'informational' ? 'How It Works' : 'Client Testimonial')}
            </h3>
            <p style="margin: 0; opacity: 0.7; font-size: 13px;">
                ${subtitle}
            </p>
        </div>
    `;
    
    // Create VIDEO CONTAINER
    const videoContainer = document.createElement('div');
    videoContainer.style.cssText = `
        position: relative;
        width: 100%;
        background: #000;
        border-radius: 12px;
        overflow: hidden;
        border: 2px solid rgba(255,255,255,0.1);
    `;
    
    // Create VIDEO element
    const video = document.createElement('video');
    video.style.cssText = `
        width: 100%;
        height: auto;
        display: block;
        border-radius: 10px;
    `;
    video.controls = true;
    video.autoplay = true;
    
    const source = document.createElement('source');
    source.src = testimonial.videoUrl;
    source.type = 'video/mp4';
    video.appendChild(source);
    
    // Create CLOSE BUTTON
    const closeButton = document.createElement('button');
    closeButton.innerHTML = `
        <span style="font-size: 16px; margin-right: 8px;">‚úï</span>
        Close & Choose Next Step
    `;
    closeButton.style.cssText = `
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 10px;
    `;
    
    // Add hover effects
    closeButton.onmouseenter = function() {
        this.style.transform = 'translateY(-2px)';
        this.style.boxShadow = '0 10px 30px rgba(102, 126, 234, 0.4)';
        this.style.opacity = '0.95';
    };
    
    closeButton.onmouseleave = function() {
        this.style.transform = 'translateY(0)';
        this.style.boxShadow = 'none';
        this.style.opacity = '1';
    };
    
    // CLOSE BUTTON ACTION
    closeButton.onclick = function() {
        console.log('üéØ Close button clicked');
        
        // Stop video
        video.pause();
        video.currentTime = 0;
        
        // Remove overlay
        overlay.remove();
        
        // Reset flags
        window.avatarCurrentlyPlaying = false;
        window.testimonialSessionActive = false;
        
        // Show decision panel if available
        if (window.showTestimonialNavigationOptions) {
            setTimeout(() => {
                window.showTestimonialNavigationOptions();
            }, 300);
        }
    };
    
    // Assemble everything
    videoContainer.appendChild(video);
    container.appendChild(header);
    container.appendChild(videoContainer);
    container.appendChild(closeButton);
    overlay.appendChild(container);
    
    // Add to page
    document.body.appendChild(overlay);
    
    // Handle video end
    video.addEventListener('ended', function() {
        console.log('‚úÖ Video ended');
        setTimeout(() => {
            closeButton.click();
        }, 1000);
    });
    
    console.log('‚úÖ Video player created');
};

// ===================================================
// üé¨ BRIDGE FUNCTIONS - Connect data to player
// ===================================================

// Create a simple TestimonialPlayer object if it doesn't exist
if (!window.TestimonialPlayer) {
    console.log('üõ†Ô∏è Creating TestimonialPlayer bridge...');
    
    window.TestimonialPlayer = {
        isPlaying: false,
        currentTestimonialId: null,
        
        // Play a testimonial by ID
        playTestimonial: function(testimonialId) {
            console.log('üé¨ TestimonialPlayer.playTestimonial called:', testimonialId);
            
            if (this.isPlaying) {
                console.log('üö´ Video already playing');
                return;
            }
            
            // Find the testimonial
            const testimonial = window.testimonialData.getVideo(testimonialId);
            
            if (testimonial) {
                this.isPlaying = true;
                this.currentTestimonialId = testimonialId;
                
                // Play the video
                if (typeof window.playTestimonialVideoWithOverlay === 'function') {
                    window.playTestimonialVideoWithOverlay(testimonial);
                } else {
                    console.error('‚ùå playTestimonialVideoWithOverlay function not found');
                }
                
                // Reset when video ends (estimate 20 seconds if not known)
                setTimeout(() => {
                    this.isPlaying = false;
                    this.currentTestimonialId = null;
                }, 20000);
                
            } else {
                console.error('‚ùå Testimonial not found:', testimonialId);
            }
        },
        
        // Play testimonials by concern type
        playTestimonialByConcern: function(concernKey) {
            console.log('üé¨ Playing testimonial for concern:', concernKey);
            
            if (this.isPlaying) {
                console.log('üö´ Video already playing');
                return;
            }
            
            // Get testimonials for this concern
            const testimonials = window.testimonialData.getConcernTestimonials(concernKey);
            const infoVideos = window.testimonialData.getConcernVideos(concernKey);
            const allVideos = [...testimonials, ...infoVideos];
            
            if (allVideos.length > 0) {
                // Get a random video for this concern
                const randomIndex = Math.floor(Math.random() * allVideos.length);
                this.playTestimonial(allVideos[randomIndex].id);
            } else {
                console.log('‚ÑπÔ∏è No videos found for concern:', concernKey);
                
                // Fallback to any video
                const allVideos = [];
                
                // Get all testimonials
                if (window.testimonialData.testimonialGroups) {
                    Object.values(window.testimonialData.testimonialGroups).forEach(group => {
                        if (group.testimonials) allVideos.push(...group.testimonials);
                    });
                }
                
                // Get all informational videos
                if (window.testimonialData.informationalGroups) {
                    Object.values(window.testimonialData.informationalGroups).forEach(group => {
                        if (group.videos) allVideos.push(...group.videos);
                    });
                }
                
                if (allVideos.length > 0) {
                    const randomIndex = Math.floor(Math.random() * allVideos.length);
                    this.playTestimonial(allVideos[randomIndex].id);
                }
            }
        },
        
        // Get all available concerns
        getAvailableConcerns: function() {
            const concerns = [];
            if (window.testimonialData && window.testimonialData.concerns) {
                for (const [key, data] of Object.entries(window.testimonialData.concerns)) {
                    concerns.push({
                        key: key,
                        title: data.title,
                        icon: data.icon,
                        type: data.type
                    });
                }
            }
            return concerns;
        },
        
        // Reset player state
        reset: function() {
            this.isPlaying = false;
            this.currentTestimonialId = null;
            console.log('üîÑ TestimonialPlayer reset');
        },
        
        // Check if player is available
        isAvailable: function() {
            return true;
        }
    };
    
    console.log('‚úÖ TestimonialPlayer bridge created');
}

// ===================================================
// üîß INITIALIZATION - Auto-setup when page loads
// ===================================================

// Function to initialize testimonial system
function initializeTestimonialSystem() {
    console.log('üé¨ Initializing testimonial system...');
    
    // Check if we have testimonials
    if (!window.testimonialData) {
        console.error('‚ùå testimonialData not found');
        return false;
    }
    
    // Make sure TestimonialPlayer exists
    if (!window.TestimonialPlayer) {
        console.error('‚ùå TestimonialPlayer not created');
        return false;
    }
    
    console.log('‚úÖ Testimonial system initialized');
    console.log('   üìä Statistics:', window.testimonialData.statistics);
    
    // Create demo buttons to test
    createDemoTestimonialButtons();
    
    return true;
}

// Create demo buttons for testing
function createDemoTestimonialButtons() {
    console.log('üîß Creating demo testimonial buttons...');
    
    const container = document.createElement('div');
    container.id = 'testimonial-demo-buttons';
    container.style.cssText = `
        position: fixed;
        bottom: 150px;
        right: 20px;
        z-index: 9998;
        display: flex;
        flex-direction: column;
        gap: 10px;
        background: rgba(0,0,0,0.85);
        padding: 20px;
        border-radius: 15px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.2);
        max-width: 320px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    `;
    
    // Title
    const title = document.createElement('div');
    title.textContent = 'üé¨ Test Video Player';
    title.style.cssText = `
        color: white;
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 15px;
        text-align: center;
    `;
    container.appendChild(title);
    
    // Get all videos
    const allVideos = [];
    
    // Testimonial videos
    if (window.testimonialData.testimonialGroups) {
        Object.values(window.testimonialData.testimonialGroups).forEach(group => {
            if (group.testimonials) {
                allVideos.push(...group.testimonials.map(t => ({
                    ...t,
                    groupType: 'testimonial'
                })));
            }
        });
    }
    
    // Informational videos
    if (window.testimonialData.informationalGroups) {
        Object.values(window.testimonialData.informationalGroups).forEach(group => {
            if (group.videos) {
                allVideos.push(...group.videos.map(v => ({
                    ...v,
                    groupType: 'informational'
                })));
            }
        });
    }
    
    // Create buttons for each video
    allVideos.forEach(video => {
        const btn = document.createElement('button');
        btn.className = 'testimonial-demo-btn';
        btn.setAttribute('data-video-id', video.id);
        btn.innerHTML = `${video.groupType === 'informational' ? 'üìö' : '‚≠ê'} ${video.title}`;
        btn.style.cssText = `
            background: ${video.groupType === 'informational' 
                ? 'linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)' 
                : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'};
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            text-align: left;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        `;
        
        btn.onclick = function() {
            console.log('üé¨ Playing video:', video.title);
            window.TestimonialPlayer.playTestimonial(video.id);
        };
        
        container.appendChild(btn);
    });
    
    // Add a test all button
    if (allVideos.length > 0) {
        const testAllBtn = document.createElement('button');
        testAllBtn.textContent = 'üé¨ Test First Video';
        testAllBtn.style.cssText = `
            background: linear-gradient(135deg, #FF6B6B 0%, #EE5A52 100%);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
        `;
        
        testAllBtn.onclick = function() {
            window.TestimonialPlayer.playTestimonial(allVideos[0].id);
        };
        
        container.appendChild(testAllBtn);
    }
    
    document.body.appendChild(container);
    console.log(`‚úÖ Created ${allVideos.length} demo buttons`);
}

// ===================================================
// üöÄ AUTO-INITIALIZE
// ===================================================

// Wait for DOM to be fully loaded
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(initializeTestimonialSystem, 1000);
    });
} else {
    // DOM already loaded
    setTimeout(initializeTestimonialSystem, 1000);
}

// ===================================================
// üé¨ MINIMAL VIDEO PLAYER - Add this to END of file
// ===================================================

// The actual video player function that was missing
window.playTestimonialVideoWithOverlay = function(testimonial) {
    console.log('üé¨ Playing video:', testimonial.title);
    
    if (!testimonial.videoUrl) {
        console.error('‚ùå No video URL');
        return;
    }
    
    // Remove existing overlay
    const existing = document.getElementById('testimonial-video-overlay');
    if (existing) existing.remove();
    
    // Create overlay
    const overlay = document.createElement('div');
    overlay.id = 'testimonial-video-overlay';
    overlay.style.cssText = `
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.95);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
    `;
    
    // Create video container
    const container = document.createElement('div');
    container.style.cssText = `
        width: 80%;
        max-width: 800px;
        background: #000;
        border-radius: 12px;
        overflow: hidden;
        position: relative;
    `;
    
    // Create video element
    const video = document.createElement('video');
    video.style.cssText = 'width: 100%; height: auto; display: block;';
    video.controls = true;
    video.autoplay = true;
    
    const source = document.createElement('source');
    source.src = testimonial.videoUrl;
    source.type = 'video/mp4';
    video.appendChild(source);
    
    // Create close button
    const closeBtn = document.createElement('button');
    closeBtn.innerHTML = '‚úï Close';
    closeBtn.style.cssText = `
        position: absolute;
        top: 15px; right: 15px;
        background: rgba(0,0,0,0.7);
        color: white;
        border: 1px solid rgba(255,255,255,0.3);
        border-radius: 6px;
        padding: 8px 16px;
        cursor: pointer;
        font-size: 14px;
        z-index: 10;
    `;
    
    closeBtn.onclick = function() {
        video.pause();
        overlay.remove();
    };
    
    // Assemble
    container.appendChild(closeBtn);
    container.appendChild(video);
    overlay.appendChild(container);
    document.body.appendChild(overlay);
    
    // Click outside to close
    overlay.onclick = function(e) {
        if (e.target === overlay) {
            video.pause();
            overlay.remove();
        }
    };
    
    // Handle video end
    video.addEventListener('ended', function() {
        setTimeout(() => {
            overlay.remove();
        }, 1000);
    });
    
    console.log('‚úÖ Video player created');
};

// Simple TestimonialPlayer bridge
if (!window.TestimonialPlayer) {
    window.TestimonialPlayer = {
        isPlaying: false,
        
        playTestimonial: function(testimonialId) {
            console.log('üé¨ Playing testimonial:', testimonialId);
            
            if (this.isPlaying) {
                console.log('üö´ Already playing');
                return;
            }
            
            const testimonial = window.testimonialData.getVideo(testimonialId);
            
            if (testimonial && window.playTestimonialVideoWithOverlay) {
                this.isPlaying = true;
                window.playTestimonialVideoWithOverlay(testimonial);
                
                // Reset after 30 seconds
                setTimeout(() => {
                    this.isPlaying = false;
                }, 30000);
            }
        }
    };
}

// Create test button to verify it works
setTimeout(() => {
    const testBtn = document.createElement('button');
    testBtn.textContent = 'üé¨ Test Video Player';
    testBtn.style.cssText = `
        position: fixed;
        bottom: 20px; right: 20px;
        z-index: 9998;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
    `;
    
    testBtn.onclick = function() {
        // Get first testimonial
        if (window.testimonialData && window.testimonialData.testimonialGroups) {
            const firstGroup = Object.values(window.testimonialData.testimonialGroups)[0];
            if (firstGroup && firstGroup.testimonials && firstGroup.testimonials[0]) {
                const firstTestimonial = firstGroup.testimonials[0];
                console.log('Testing with:', firstTestimonial.title);
                
                if (window.TestimonialPlayer) {
                    window.TestimonialPlayer.playTestimonial(firstTestimonial.id);
                } else if (window.playTestimonialVideoWithOverlay) {
                    window.playTestimonialVideoWithOverlay(firstTestimonial);
                }
            }
        }
    };
    
    document.body.appendChild(testBtn);
    console.log('‚úÖ Test button added (bottom right)');
}, 1000);

console.log('üé¨ MINIMAL VIDEO PLAYER ADDED');
console.log('‚úÖ playTestimonialVideoWithOverlay function added');
console.log('‚úÖ TestimonialPlayer bridge created');

// Expose initialization function globally
window.initializeTestimonials = initializeTestimonialSystem;

console.log('üé¨ TESTIMONIAL SYSTEM COMPLETE');
console.log('==============================');
console.log('‚úÖ testimonialData:', window.testimonialData ? 'Loaded' : 'Missing');
console.log('‚úÖ TestimonialPlayer:', window.TestimonialPlayer ? 'Created' : 'Missing');
console.log('‚úÖ playTestimonialVideoWithOverlay:', typeof window.playTestimonialVideoWithOverlay === 'function' ? 'Available' : 'Missing');
console.log('==============================');
console.log('System will auto-initialize...');

console.log('‚úÖ Dual System Data Loaded:');